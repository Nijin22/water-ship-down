@(user1: String)(user2: String)
@mainPlaying("Playing game"){

<script type="text/javascript">

    $(function() {

        // special actions
        var FIRE_TWICE = false;
        var THREE_BONUS_SHOTS = false;
        var AUTO_ROCKET = false;
        var ENEMY_PASSES = false;

        // INITIAL: set number of max shots in control bar
        var maxShots = 6;

        $('#availableShots').text(getNumberOfSelectedTargets());

        // select targets
        $('.clickable > ul > li').click(function() {
            // clean up messages
            $('.messages').fadeOut(150);
            $('.messageText').empty();
            // toggle selected targets
            if (!$(this).hasClass('disable')) {
                if (!$(this).hasClass('target')) {
                    if (getNumberOfSelectedTargets() < maxShots) {
                        $(this).addClass('target');
                    } else {
                        // display warning message
                        $('.messages').fadeIn(150);
                        $('.messages > div').addClass('alert-warning');
                        $('.messageText').append("<strong>Warning!</strong> The maximum number of targets has been reached!! To select a different target, an existing target must be deselected.")
                    }
                } else {
                    $(this).removeClass('target');
                }
            }
            // set number of available Shots in control bar
            $('#availableShots').text(getNumberOfSelectedTargets());
        });

        // handle special actions
        $('.special_actions > button').click(function() {
            $(this).toggleClass('active');
            $(this).siblings().toggleClass('disabled');
            
        });
    });

    function getNumberOfSelectedTargets() {
        var numberOfSelectedTargets = 0;
        var col = 1;
        while (col <= 18) {
            var row = 1;
            while (row <= 18) {
                if ($('#map2 > ul:nth-child(' + col + ') > li:nth-child(' + row + ')').hasClass('target')) {
                    numberOfSelectedTargets++;
                }
                row++;
            }
            col++;
        }
        return numberOfSelectedTargets;
    }



</script>

<header>
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#"><span class="logo"><img src='@routes.Assets.at("images/logo_svg.svg")' alt="WSD-Logo"/></span>Water Ship Down</a>
            </div>
            <div class="collapse navbar-collapse text-center">
                <div class=usernames>
                    <div class="avatar blue"><span class="glyphicon glyphicon-user blue"></span></div>
                    <span>@user1</span>
                </div>
                <div class=usernames>
                    <span>@user2</span>
                    <div class="avatar red"><span class="glyphicon glyphicon-user red"></span></div>
                </div>


                <div class="navbar-right">
                    <button type="button" class="btn btn-default navbar-btn">Help</button>
                    <button type="button" class="btn btn-danger navbar-btn">Exit</button>
                </div>

            </div>
        </div>
    </nav>
</header>


<section class="maps maps_playing">
    <div class="container maps_inner">
        <div class="row">
            <div class="col-md-6">
                <div id="map1" class="map">
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                </div>
            </div>
            <div class="col-md-6 sm-margin-top">
                <div id="map2" class="map clickable">
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                    <ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="control">

    <div class="messages">
        <div class="alert alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            <span class="messageText"></span>
        </div>
    </div>

    <div class="toggleControl">click to hide control bar</div>
    <div class="controlToggleContainer">
        <div class="container">
            <div class="row">

                <div class="col-md-4">
                    <p>Available Missile
                        <button type="button" class="glyphicon glyphicon-info-sign info_button" data-container="body" data-toggle="popover" data-placement="top" data-original-title="Available Missile" data-content="You can shoot with each of your remaining ships."></button>
                    </p>
                    <span class="munition"><span id="availableShots">0</span> / <span id="maxShots">6</span></span>
                </div>


                <div class="col-md-4">
                    <p>Special Actions
                        <button type="button" class="glyphicon glyphicon-info-sign info_button" data-container="body" data-toggle="popover" data-placement="top" data-original-title="Special Actions" data-content="These are your jokers. You can only use them once in a match."></button>
                    </p>
                    <div class="special_actions">
                        <button id="special1" type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="doubling number of missiles"><img src="/assets/images/icons/FIRE_TWICE.svg"></button>
                        <button id="special2" type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="3 bonus missiles"><img src="/assets/images/icons/THREE_BONUS_SHOTS.svg"></button>
                        <button id="special3" type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="extra smart missile hits a target"><img src="/assets/images/icons/AUTO_ROCKET.svg"></button>
                        <button id="special4" type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="enemy missiles miss targets"><img src="/assets/images/icons/ENEMY_PASSES.svg"></button>
                    </div>
                </div>

                <div class="col-md-4">
                    <p>Are you ready?
                        <button type="button" class="glyphicon glyphicon-info-sign info_button" data-container="body" data-toggle="popover" data-placement="top" data-original-title="Are you ready?" data-content="By pressing 'Start Attack!' you confirm your turn."></button>
                    </p>
                    <button type="button" class="btn btn-primary">Start Attack!</button>
                </div>
            </div>
        </div>
    </div>
</section>
}